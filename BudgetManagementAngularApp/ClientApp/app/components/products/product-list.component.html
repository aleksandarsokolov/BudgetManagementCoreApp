<form #form="ngForm">
    <mat-toolbar color="primary">
        <mat-toolbar-row>
            <span><i class="material-icons">local_mall</i>&nbsp;Products</span>
            <span class="example-spacer"></span>

            <mat-slide-toggle (click)="showPlannedCheckboxes()">Planned</mat-slide-toggle>
        </mat-toolbar-row>
    </mat-toolbar>

    <mat-card fxFlexFill fxLayout="row wrap" style="padding:0px;">
        <table mat-table fxFlexFill [dataSource]="dataSource" matSort class="mat-elevation-z2">
            <!-- Planned Column -->
            <ng-container matColumnDef="verify-chk">
                <th mat-header-cell *matHeaderCellDef>
                    <mat-checkbox (change)="$event ? masterToggle() : null"
                                  [checked]="selection.hasValue() && isAllSelected()"
                                  [indeterminate]="selection.hasValue() && !isAllSelected()">
                    </mat-checkbox>
                </th>
                <td mat-cell *matCellDef="let product">
                    <mat-checkbox [attr.id]='product.ProductID'
                                  (click)="$event.stopPropagation()"
                                  (change)="$event ? selection.toggle(product) : null"
                                  [checked]="selection.isSelected(product)">
                    </mat-checkbox>
                </td>
                <td mat-footer-cell *matFooterCellDef></td>
            </ng-container>

            <!-- Planned Icon Column -->
            <ng-container matColumnDef="isPlanned">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    <mat-icon aria-hidden="true">thumb_up</mat-icon>
                </th>
                <td mat-cell *matCellDef="let product">
                    <mat-icon [style.color]='GetColor(product.isPlanned)' aria-hidden="true">
                        {{ GetThumb(product.isPlanned) }}</mat-icon>
                </td>
                <td mat-footer-cell *matFooterCellDef>  </td>
            </ng-container>
            <!-- ProductName Column -->
            <ng-container matColumnDef="ProductName">
                <th fxShow="true" fxHide.lt-md="true" mat-header-cell *matHeaderCellDef mat-sort-header> Product Name </th>
                <td fxShow="true" fxHide.lt-md="true" mat-cell *matCellDef="let product"> {{product.ProductName
                        }}
</td>
                <td fxShow="true" fxHide.lt-md="true" mat-footer-cell *matFooterCellDef>  </td>
            </ng-container>

            <!-- Brand Column -->
            <ng-container matColumnDef="Brand">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Brand </th>
                <td mat-cell *matCellDef="let product"> {{ product.Brand }} </td>
                <td mat-footer-cell *matFooterCellDef>  </td>
            </ng-container>

            <!-- Amount Column -->
            <ng-container matColumnDef="Amount">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Amount </th>
                <td mat-cell *matCellDef="let product"> {{ product.Amount }} </td>
                <td fxShow="true" fxHide.lt-sm="true" mat-footer-cell *matFooterCellDef> Total: </td>
            </ng-container>

            <!-- Type Column -->
            <ng-container matColumnDef="ProductType">
                <th fxShow="true" fxHide.lt-sm="true" mat-header-cell *matHeaderCellDef mat-sort-header> Type </th>
                <td fxShow="true" fxHide.lt-sm="true" mat-cell *matCellDef="let product">
                    <pm-icons [types]='[product.ProductType]'></pm-icons>
                </td>
                <td mat-footer-cell *matFooterCellDef> {{ totalCount }} </td>
            </ng-container>

            <!-- Price Column -->
            <ng-container matColumnDef="Price">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Price </th>
                <td mat-cell *matCellDef="let product">{{ product.Price | currency:'$':'symbol':'1.2-2' }}</td>
                <td mat-footer-cell *matFooterCellDef>
                    <app-show-totals [totals]="totals"></app-show-totals>
                </td>
            </ng-container>

            <!-- Edit -->
            <ng-container matColumnDef="editProduct">
                <th fxShow="true" mat-header-cell *matHeaderCellDef></th>
                <td fxShow="true" mat-cell *matCellDef="let product">
                    <button mat-icon-button color="primary" (click)="EditProduct(product.ProductID)">
                        <mat-icon aria-label="Edit button">edit</mat-icon>
                    </button>
                </td>
                <td fxShow="true" mat-footer-cell *matFooterCellDef></td>
            </ng-container>

            <!-- Delete -->
            <ng-container matColumnDef="deleteProduct">
                <th fxShow="true" mat-header-cell *matHeaderCellDef></th>
                <td fxShow="true" mat-cell *matCellDef="let product">
                    <button mat-icon-button color="primary" (click)="DeleteProduct(product.BillID)">
                        <mat-icon aria-label="Delete button">delete</mat-icon>
                    </button>
                </td>
                <td fxShow="true" mat-footer-cell *matFooterCellDef></td>
            </ng-container>


            <tr mat-header-row *matHeaderRowDef="getDisplayedColumns()"></tr>
            <tr mat-row class="ripple" *matRowDef="let row; columns: getDisplayedColumns();"
                (click)="selection.toggle(row)"></tr>
            <tr mat-footer-row *matFooterRowDef="getDisplayedColumns()"></tr>
        </table>
    </mat-card>

</form>





    <!--<div class='card'>
      <div class='card-header'>
        Bill title goes here
      </div>
      <div class='card-body'>
        <div class='table-responsive'>
          <table class='table'>
            <thead>
              <tr>
                <th>Product</th>
                <th>Brand</th>
                <th>Amount</th>
                <th>Type</th>
                <th>Price</th>
              </tr>
            </thead>

            <tbody>
              <tr *ngFor='let product of products'>
                <td>{{ product.name }}</td>
                <td>{{ product.brand }}</td>
                <td>{{ product.amount }}</td>
                <td>{{ product.type }}</td>
                <td>{{ product.price | currency:product.currency:'symbol':'1.2-2' }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="card-footer">
          <button class='btn btn-outline-secondary' (click)='onBack()' style='width:80px'><i class='fa fa-chevron-left'></i> Back</button>
      </div>
    </div>-->
